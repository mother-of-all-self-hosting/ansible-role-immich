{#
SPDX-FileCopyrightText: 2023 MASH project contributors
SPDX-FileCopyrightText: 2025 Slavi Pantaleev
SPDX-FileCopyrightText: 2025 Suguru Hirahara
SPDX-FileCopyrightText: 2025 IUCCA

SPDX-License-Identifier: AGPL-3.0-or-later
#}

IMMICH_PORT={{ immich_machine_learning_environment_variable_immich_port }}

IMMICH_LOG_LEVEL={{ immich_machine_learning_environment_variable_immich_log_level }}

MPLCONFIGDIR={{ immich_machine_learning_environment_variable_mplconfigdir }}

MACHINE_LEARNING_ANN={{ 'True' if immich_machine_learning_environment_variable_machine_learning_ann else 'False' }}

MACHINE_LEARNING_RKNN={{ 'True' if immich_machine_learning_environment_variable_machine_learning_rknn else 'False' }}

MACHINE_LEARNING_MODEL_TTL={{ immich_machine_learning_environment_variable_machine_learning_model_ttl }}

MACHINE_LEARNING_MODEL_TTL_POLL_S={{ immich_machine_learning_environment_variable_machine_learning_model_ttl_poll_s }}

MACHINE_LEARNING_CACHE_FOLDER={{ immich_machine_learning_environment_variable_machine_learning_cache_folder }}

{% if immich_machine_learning_environment_variable_machine_learning_request_threads %}
MACHINE_LEARNING_REQUEST_THREADS={{ immich_machine_learning_environment_variable_machine_learning_request_threads }}
{% endif %}

MACHINE_LEARNING_MODEL_INTER_OP_THREADS={{ immich_machine_learning_environment_variable_machine_learning_model_inter_op_threads }}

MACHINE_LEARNING_MODEL_INTRA_OP_THREADS={{ immich_machine_learning_environment_variable_machine_learning_model_intra_op_threads }}

MACHINE_LEARNING_WORKERS={{ immich_machine_learning_environment_variable_machine_learning_workers }}

MACHINE_LEARNING_HTTP_KEEPALIVE_TIMEOUT_S={{ immich_machine_learning_environment_variable_machine_learning_http_keepalive_timeout_s }}

MACHINE_LEARNING_WORKER_TIMEOUT={{ immich_machine_learning_environment_variable_machine_learning_worker_timeout }}

{% if immich_machine_learning_environment_variable_machine_learning_preload__clip__textual %}
MACHINE_LEARNING_PRELOAD__CLIP__TEXTUAL={{ immich_machine_learning_environment_variable_machine_learning_preload__clip__textual }}
{% endif %}

{% if immich_machine_learning_environment_variable_machine_learning_preload__clip__visual %}
MACHINE_LEARNING_PRELOAD__CLIP__VISUAL={{ immich_machine_learning_environment_variable_machine_learning_preload__clip__visual }}
{% endif %}

{% if immich_machine_learning_environment_variable_machine_learning_preload__facial_recognition__recognition %}
MACHINE_LEARNING_PRELOAD__FACIAL_RECOGNITION__RECOGNITION={{ immich_machine_learning_environment_variable_machine_learning_preload__facial_recognition__recognition }}
{% endif %}

{% if immich_machine_learning_environment_variable_machine_learning_preload__facial_recognition__detection %}
MACHINE_LEARNING_PRELOAD__FACIAL_RECOGNITION__DETECTION={{ immich_machine_learning_environment_variable_machine_learning_preload__facial_recognition__detection }}
{% endif %}

MACHINE_LEARNING_ANN_FP16_TURBO={{ 'True' if immich_machine_learning_environment_variable_machine_learning_ann_fp16_turbo else 'False' }}

MACHINE_LEARNING_ANN_TUNING_LEVEL={{ immich_machine_learning_environment_variable_machine_learning_ann_tuning_level }}

MACHINE_LEARNING_DEVICE_IDS={{ immich_machine_learning_environment_variable_machine_learning_device_ids }}

{% if immich_machine_learning_environment_variable_machine_learning_max_batch_size__facial_recognition %}
MACHINE_LEARNING_MAX_BATCH_SIZE__FACIAL_RECOGNITION={{ immich_machine_learning_environment_variable_machine_learning_max_batch_size__facial_recognition }}
{% endif %}

{% if immich_machine_learning_environment_variable_machine_learning_max_batch_size__text_recognition %}
MACHINE_LEARNING_MAX_BATCH_SIZE__TEXT_RECOGNITION={{ immich_machine_learning_environment_variable_machine_learning_max_batch_size__text_recognition }}
{% endif %}

MACHINE_LEARNING_PING_TIMEOUT={{ immich_machine_learning_environment_variable_machine_learning_ping_timeout }}

MACHINE_LEARNING_AVAILABILITY_BACKOFF_TIME={{ immich_machine_learning_environment_variable_machine_learning_availability_backoff_time }}

MACHINE_LEARNING_RKNN_THREADS={{ immich_machine_learning_environment_variable_machine_learning_rknn_threads }}

{{ immich_machine_learning_environment_variables_additional_variables }}
